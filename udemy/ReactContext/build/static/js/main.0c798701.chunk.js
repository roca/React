(this.webpackJsonptesting=this.webpackJsonptesting||[]).push([[0],{41:function(e,t,n){e.exports=n(68)},68:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return $}));var a=n(0),r=n.n(a),o=n(17),c=n.n(o),i=n(15),u=n(2),m=n(6),l=n(26),s=function(e){var t=e.dispatch;return function(e){return function(n){if(!n.payload||!n.payload.then)return e(n);n.payload.then((function(e){var a=Object(l.a)(Object(l.a)({},n),{},{payload:e});t(a)}))}}},h=n(38),p=n.n(h),d={$schema:"http://json-schema.org/draft-07/schema",$id:"http://example.com/example.json",type:"object",title:"The root schema",description:"The root schema comprises the entire JSON document.",default:{},examples:[{comments:["Comment #1","Comment #2"],auth:!0}],required:["comments","auth"],properties:{comments:{$id:"#/properties/comments",type:"array",title:"The comments schema",description:"An explanation about the purpose of this instance.",default:[],examples:[["Comment #1","Comment #2"]],additionalItems:!0,items:{$id:"#/properties/comments/items",anyOf:[{$id:"#/properties/comments/items/anyOf/0",type:"string",title:"The first anyOf schema",description:"An explanation about the purpose of this instance.",default:"",examples:["Comment #1","Comment #2"]}]}},auth:{$id:"#/properties/auth",type:"boolean",title:"The auth schema",description:"An explanation about the purpose of this instance.",default:!1,examples:[!0]}},additionalProperties:!0},f=function(e){e.dispatch;var t=e.getState;return function(e){return function(n){e(n),p.a.validate(t(),d)||console.warn("Invalid state schema detected")}}},v=n(12),b=n(21),y=Object(v.c)({comments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"save_comment":return[].concat(Object(b.a)(e),[t.payload]);case"fetch_comments":var n=t.payload.data.map((function(e){return e.name}));return[].concat(Object(b.a)(e),Object(b.a)(n));default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"change_auth":return t.payload;default:return e}}}),O=function(e){var t=e.children,n=e.initialState,a=void 0===n?{}:n,o=Object(v.d)(y,a,Object(v.a)(s,f));return r.a.createElement(m.a,{store:o},t)},j=n(8),E=n(9),g=n(11),C=n(10);var k=n(39),S=n.n(k);var x=function(e){Object(g.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(j.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={comment:""},e.handleChange=function(t){e.setState({comment:t.target.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.saveComment(e.state.comment),e.setState({comment:""})},e}return Object(E.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h4",null,"Add a Comment"),r.a.createElement("textarea",{onChange:this.handleChange,value:this.state.comment}),r.a.createElement("div",null,r.a.createElement("button",null,"Submit Comment"))),r.a.createElement("button",{id:"fetch-comments",onClick:this.props.fetchComments},"Fetch Comments"))}}]),n}(a.Component),A=Object(m.b)(null,{saveComment:function(e){return{type:"save_comment",payload:e}},fetchComments:function(){return{type:"fetch_comments",payload:S.a.get("https://jsonplaceholder.typicode.com/comments")}}})(function(e){var t=function(t){Object(g.a)(a,t);var n=Object(C.a)(a);function a(){return Object(j.a)(this,a),n.apply(this,arguments)}return Object(E.a)(a,[{key:"componentDidMount",value:function(){this.shouldNavigateAway()}},{key:"componentDidUpdate",value:function(){this.shouldNavigateAway()}},{key:"shouldNavigateAway",value:function(){this.props.auth||this.props.history.push("/")}},{key:"render",value:function(){return r.a.createElement(e,this.props)}}]),a}(a.Component);return Object(m.b)((function(e){return{auth:e.auth}}))(t)}(x)),w=function(e){Object(g.a)(n,e);var t=Object(C.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"renderComments",value:function(){return this.props.comments.map((function(e){return r.a.createElement("li",{className:"comments",key:e},e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Comment List"),r.a.createElement("ul",null,this.renderComments()))}}]),n}(a.Component);var _=Object(m.b)((function(e){return{comments:e.comments}}))(w),I=function(e){Object(g.a)(n,e);var t=Object(C.a)(n);function n(){return Object(j.a)(this,n),t.apply(this,arguments)}return Object(E.a)(n,[{key:"renderBranch",value:function(){return r.a.createElement("h2",null,"GIT_BRANCH:","refs/heads/client_side_auth")}},{key:"renderButton",value:function(){var e=this;return this.props.auth?r.a.createElement("button",{id:"btnSignIn",onClick:function(){return e.props.changeAuth(!1)}},"Sign Out"):r.a.createElement("button",{id:"btnSignIn",onClick:function(){return e.props.changeAuth(!0)}},"Sign In")}},{key:"renderHeader",value:function(){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{id:"homeLink",to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{id:"postLink",to:"/post"},"Post a comment")),r.a.createElement("li",null,this.renderButton())))}},{key:"render",value:function(){return r.a.createElement("div",null,this.renderBranch(),this.renderHeader(),r.a.createElement(u.a,{path:"/post",component:A}),r.a.createElement(u.a,{path:"/",exact:!0,component:_}))}}]),n}(a.Component);var N=Object(m.b)((function(e){return{auth:e.auth}}),{changeAuth:function(e){return{type:"change_auth",payload:e}}})(I),T=n(40),$=Object(T.a)({basename:"/dev"});c.a.render(r.a.createElement(O,null,r.a.createElement(i.a,null,r.a.createElement(u.a,{path:"/",component:N}))),document.querySelector("#root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.0c798701.chunk.js.map